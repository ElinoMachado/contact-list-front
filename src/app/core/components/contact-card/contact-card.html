<div
  class="card"
  cdkDrag
  (click)="onCardClick($event)"
  [ngClass]="{ inactive: !contact.isActive }"
>
  <div
    class="avatar"
    (mouseenter)="showUpload = true"
    (mouseleave)="showUpload = false"
  >
    <ng-container *ngIf="contact.imageUrl; else defaultIcon">
      <img [src]="contact.imageUrl" alt="Imagem do contato" />
    </ng-container>
    <ng-template #defaultIcon>
      <i class="fa fa-user-circle"></i>
    </ng-template>

    <input
      *ngIf="showUpload"
      type="file"
      class="upload"
      (change)="onUploadImage($event)"
    />
  </div>

  <div class="info">
    <h3 class="text-truncate">{{ contact.name }}</h3>
    <p class="text-truncate"><strong>Email:</strong> {{ contact.email }}</p>
    <p class="text-truncate">
      <strong>Celular:</strong> {{ contact.mobile | mask : "(00) 00000-0000" }}
    </p>
    <p class="text-truncate">
      <strong>Fixo:</strong> {{ contact.phone | mask : "(00) 0000-0000" }}
    </p>
    <small
      ><strong>Criado em:</strong>
      {{ contact.createdAt | date : "dd/MM/yyyy HH:mm" }}</small
    >
  </div>

  <div class="actions">
    <button
      (click)="onToggleFavorite()"
      [title]="contact.isFavorite ? 'Remover dos favoritos' : 'Favoritar'"
    >
      <i class="fa fa-star" [ngClass]="{ favorite: contact.isFavorite }"></i>
    </button>
    <button (click)="onDeactivate()" title="Desativar contato">
      <i class="fa fa-trash"></i>
    </button>
  </div>
</div>
